<mvc:View controllerName="code.d07.exam4.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:t="sap.ui.table"
    xmlns:rowmodes="sap.ui.table.rowmodes"
>
    <Page id="page" title="{i18n>title}">
        <!-- 테이블 rows를 이용해 path, filter 정보 입력 -->
        <t:Table
            rows="{ 
                path: '/Orders',
                filters: {
                    path: 'OrderDate',
                    operator: 'BT',
                    value1: '1996-07-01',
                    value2: '1996-07-31'
                }
            }"
            class="sapUiResponsiveMargin"
            width="auto"
            selectionBehavior="RowOnly"
            selectionMode="Single"
            rowSelectionChange=".onOpenDetailView"
        >
            <!-- rowmodes 사용 -->
            <!-- 
                rowmodes: t:table은 10 행만 출력하는데,
                        더 많은 행을 출력하기 위해서 rowmodes 라이브러리를 사용한다.
                    Auto: 화면의 높이를 Auto로 설정한다.
            -->
            <t:rowMode>
                <rowmodes:Auto />
            </t:rowMode>
            
            <t:columns>
                <!-- 주문ID -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnOrderID}"/>
                    </t:label>
                    <t:template>
                        <ObjectIdentifier title="{OrderID}"/>
                    </t:template>
                </t:Column>
                <!-- 고객ID -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnCustomerID}"/>
                    </t:label>
                    <t:template>
                        <Text text="{CustomerID}"/>
                    </t:template>
                </t:Column>
                <!-- 담당직원ID -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnEmployeeID}"/>
                    </t:label>
                    <t:template>
                        <Text text="{EmployeeID}"/>
                    </t:template>
                </t:Column>
                <!-- 주문일자 -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnOrderDate}"/>
                    </t:label>
                    <t:template>
                        <Text text="{
                            path: 'OrderDate',
                            type: 'sap.ca.ui.model.type.Date',
                            formatOptions: {
                                pattern: 'yyyy.MM.dd'
                            }
                        }"/>
                    </t:template>
                </t:Column>
                <!-- 배송요청일자 -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnReqiredDate}"/>
                    </t:label>
                    <t:template>
                        <Text text="{
                            path: 'RequiredDate',
                            type: 'sap.ca.ui.model.type.Date',
                            formatOptions: {
                                pattern: 'yyyy.MM.dd'
                            }
                        }"/>
                    </t:template>
                </t:Column>
                <!-- 배송일자 -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnShippedDate}"/>
                    </t:label>
                    <t:template>
                        <Text text="{
                            path: 'ShippedDate',
                            type: 'sap.ca.ui.model.type.Date',
                            formatOptions: {
                                pattern: 'yyyy.MM.dd'
                            }
                        }"/>
                    </t:template>
                </t:Column>
                <!-- 상태 -->
                <t:Column>
                    <t:label>
                        <Label text="{i18n>columnState}"/>
                    </t:label>
                    <t:template>
                        <ObjectStatus 
                            text="{
                                parts:['RequiredDate', 'ShippedDate'],
                                formatter: '.formatter.stateTextMaker'
                            }"
                            state="{
                                parts:['RequiredDate', 'ShippedDate'],
                                formatter: '.formatter.stateMaker'
                            }"
                        />
                    </t:template>
                </t:Column>
            </t:columns>
        </t:Table>
    </Page>
</mvc:View>